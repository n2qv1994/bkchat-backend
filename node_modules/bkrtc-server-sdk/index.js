
/**
 * Author: Nguyen Hoang Anh
 * WebSocket Server
 */

var WsServer = require("./wsserver/WsServer");
var fs = require("fs");

function BKRTC_Server() {
  var self = this;

  self.created_at = new Date();

  global.root_path = __dirname;
  var path_file = global.root_path + "/logs/log.txt";
  fs.stat(path_file, function(err, stat) {
    if(err && err.code === 'ENOENT') {
      var create_stream = fs.createWriteStream(path_file);
      create_stream.end();
    }
  });
}

BKRTC_Server.prototype.create = function (web_socket) {
  var self = this;

  if(typeof web_socket === "object") {
    return new WsServer(web_socket);
  }
  return null;
};

module.exports = BKRTC_Server;
